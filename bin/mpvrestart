#!/bin/bash

set -eu

# Helper functions
say() {
  printf "\33[1mmpv restart\33[0m: %s\n" "$1"
}

err() {
  say "ERROR: $1" >&2
  exit 1
}

main() {
  local script_dir repo_root
  script_dir=$(dirname "$(realpath "$0")")
  repo_root=$(git -C "$script_dir" rev-parse --show-toplevel)

  # shellcheck disable=SC1091
  source "$repo_root/.venv/bin/activate"
  python "$repo_root/pybabilib/restart.py"
}

main "$@"
